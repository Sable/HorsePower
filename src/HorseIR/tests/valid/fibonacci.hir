module default {
    def calculate(x:i32) :i32 {
        equal_0 :bool = @Builtin.eq(x, 0:i32) ;
        equal_1 :bool = @Builtin.eq(x, 1:i32) ;
        equal_2 :bool = @Builtin.eq(x, 2:i32) ;

        goto [ret] equal_1 ;
        goto [ret] equal_2 ;

        prev :i32  = @Builtin.minus(x, 1:i32) ;
        prev2 :i32 = @Builtin.minus(x, 2:i32) ;

        t0 :i32 = @calculate(prev);
        t1 :i32 = @calculate(prev2);

        ret :i32 = @Builtin.plus(t0, t1);
        return ret ;
               
        [ret]
        ret :i32 = 1:i32 ;
        return ret ;
    }
    def main() :i32 {
        result :i32 = @calculate(10 :i32) ;
        return result;
    }
}